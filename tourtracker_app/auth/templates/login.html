{% extends "base.html" %}
{% block content %}
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
            <h3 class="text text--red">{{ message }}</h3>
        {% endfor %}
        {% endif %}
        {% endwith %}
        <h1>Log In</h1>
        <form class="form" action="" method="post" novalidate>
            {{ form.hidden_tag() }}
            {{ form.email(class_="form__item") }}
            {% for error in form.email.errors %}
            <p class="text__formerror">{{ error }}</p>
            {% endfor %}
            {{ form.password(class_="form__item") }}
            {% for error in form.password.errors %}
            <p class="text__formerror">{{ error }}</p>
            {% endfor %}
            {{ form.submit(class_="form__item button") }}
        </form>
        <form class="form">
            <button type="submit" class="form__item button" formaction={{ url_for('auth.request_password_reset') }}>Forgotten password?</button>
        </form>
{% endblock %}
